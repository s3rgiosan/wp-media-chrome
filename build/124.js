"use strict";(globalThis.webpackChunkwp_media_chrome=globalThis.webpackChunkwp_media_chrome||[]).push([[124],{4124:(t,e,i)=>{i.r(e),i.d(e,{default:()=>v,uniqueId:()=>g});const s=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],o=globalThis.document?.createElement("template");o&&(o.innerHTML="\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      video,\n      audio {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n      }\n    </style>\n    <slot></slot>\n  ");const a=(t,{tag:e,is:i})=>{const a=globalThis.document?.createElement(e,{is:i}),r=a?n(a):[];return class d extends t{static Events=s;static template=o;static skipAttributes=[];static#t;static get observedAttributes(){return d.#e(),[...a?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}static#e(){if(this.#t)return;this.#t=!0;const t=new Set(this.observedAttributes);t.delete("muted");for(let e of r)if(!(e in this.prototype))if("function"==typeof a[e])this.prototype[e]=function(...t){this.#i();const i=()=>this.call?this.call(e,...t):this.nativeEl[e].apply(this.nativeEl,t);return this.loadComplete&&!this.isLoaded?this.loadComplete.then(i):i()};else{let i={get(){this.#i();let i=e.toLowerCase();if(t.has(i)){const t=this.getAttribute(i);return null!==t&&(""===t||t)}return this.get?.(e)??this.nativeEl?.[e]??this.#s[e]}};e!==e.toUpperCase()&&(i.set=async function(i){this.#i();let s=e.toLowerCase();t.has(s)?!0===i||!1===i||null==i?this.toggleAttribute(s,Boolean(i)):this.setAttribute(s,i):(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set?this.set(e,i):this.nativeEl[e]=i)}),Object.defineProperty(this.prototype,e,i)}}#o;#a;#n=!1;#l=!1;#r;#s;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==d.prototype.load&&(this.loadComplete=new l)}get loadComplete(){return this.#a}set loadComplete(t){this.#l=!1,this.#a=t,t?.then(()=>{this.#l=!0})}get isLoaded(){return this.#l}get nativeEl(){return this.#r??this.shadowRoot.querySelector(e)??this.querySelector(e)}set nativeEl(t){this.#r=t}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(t){this.toggleAttribute("muted",Boolean(t))}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",`${t}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(t){this.setAttribute("preload",`${t}`)}async#i(){if(this.#o)return;this.#o=!0,this.#d(),this.#h();for(let t of r)this.#c(t);const t=new Map,e=this.shadowRoot.querySelector("slot:not([name])");e?.addEventListener("slotchange",()=>{const i=new Map(t);e.assignedElements().filter(t=>["track","source"].includes(t.localName)).forEach(async e=>{i.delete(e);let s=t.get(e);s||(s=e.cloneNode(),t.set(e,s)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.nativeEl.append?.(s)}),i.forEach(t=>t.remove())});for(let t of this.constructor.Events)this.shadowRoot.addEventListener?.(t,t=>{t.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(t.type,{detail:t.detail}))},!0)}#c(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}#d(){const t=document.createElement(e,{is:i});t.muted=this.hasAttribute("muted");for(let{name:e,value:i}of this.attributes)t.setAttribute(e,i);this.#s={};for(let e of n(t))this.#s[e]=t[e];t.removeAttribute("src"),t.load()}async#h(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const t=document.createElement(e,{is:i});t.part=e,this.shadowRoot.append(t)}this.nativeEl.muted=this.hasAttribute("muted")}attributeChangedCallback(t,e,i){this.#i(),"src"===t&&this.load!==d.prototype.load&&this.#u(),this.#p(t,e,i)}async#u(){this.#n&&(this.loadComplete=new l),this.#n=!0,await Promise.resolve(),await this.load(),this.loadComplete?.resolve(),await this.loadComplete}async#p(t,e,i){this.loadComplete&&!this.isLoaded&&await this.loadComplete,["id","class",...this.constructor.skipAttributes].includes(t)||(null===i?this.nativeEl.removeAttribute?.(t):this.nativeEl.setAttribute?.(t,i))}connectedCallback(){this.#i()}}};function n(t){let e=[];for(let i=Object.getPrototypeOf(t);i&&i!==HTMLElement.prototype;i=Object.getPrototypeOf(i))e.push(...Object.getOwnPropertyNames(i));return e}class l extends Promise{constructor(t=()=>{}){let e,i;super((s,o)=>{t(s,o),e=s,i=o}),this.resolve=e,this.reject=i}}const r=globalThis.document?a(HTMLElement,{tag:"video"}):class{};var d,h;globalThis.document&&a(HTMLElement,{tag:"audio"});const c=null==(d=globalThis.document)?void 0:d.createElement("template");c&&(c.innerHTML='\n  <div class="wistia_embed"></div>\n  ');const u=null==(h=globalThis.document)?void 0:h.createElement("template");u&&(u.innerHTML="\n  <style>\n    :host {\n      display: inline-block;\n      min-width: 300px;\n      min-height: 150px;\n      position: relative;\n    }\n    ::slotted(.wistia_embed) {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n    }\n  </style>\n  <slot></slot>\n  ");class p extends r{static template=u;static skipAttributes=["src"];get nativeEl(){var t;return(null==(t=this.api)?void 0:t.elem())??this.querySelector("video")}async load(){var t;if(null==(t=this.querySelector(".wistia_embed"))||t.remove(),!this.src)return;await new Promise(t=>setTimeout(t,50));const e=this.src.match(/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/i)[1],i={autoPlay:this.autoplay,preload:this.preload??"metadata",playsinline:this.playsInline,endVideoBehavior:this.loop&&"loop",chromeless:!this.controls,playButton:this.controls,muted:this.defaultMuted};this.append(c.content.cloneNode(!0));const s=this.querySelector(".wistia_embed");s.id||(s.id=g(e)),s.classList.add(`wistia_async_${e}`),await async function(t,e){return e?m[t]?m[t]:self[e]?self[e]:m[t]=new Promise((i,s)=>{const o=document.createElement("script");o.defer=!0,o.src=t,o.onload=()=>i(self[e]),o.onerror=s,document.head.append(o)}):import(t)}("https://fast.wistia.com/assets/external/E-v1.js","Wistia"),this.api=await new Promise(t=>{globalThis._wq.push({id:s.id,onReady:t,options:i})})}async attributeChangedCallback(t,e,i){"controls"!==t?super.attributeChangedCallback(t,e,i):(await this.loadComplete,"controls"===t&&(this.api.bigPlayButtonEnabled(this.controls),this.controls?this.api.releaseChromeless():this.api.requestChromeless()))}get duration(){var t;return null==(t=this.api)?void 0:t.duration()}play(){return this.api.play(),new Promise(t=>this.addEventListener("playing",t))}}const m={};let b=0;function g(t){return`${t}${++b}`}globalThis.customElements&&!globalThis.customElements.get("wistia-video")&&globalThis.customElements.define("wistia-video",p);var v=p}}]);